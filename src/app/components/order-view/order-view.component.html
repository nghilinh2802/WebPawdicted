<div class="order-view">
  <!-- Header -->
  <div class="order-header">
    <h2>Chi tiết đơn hàng: {{ order?.id }}</h2>
  </div>

<!-- Thông tin đơn -->
<div class="order-info">
  <div class="info-row">
    <span class="info-label">Người nhận:</span>
    <span class="info-value">{{ order?.customer_name }}</span>
  </div>
  <div class="info-row">
    <span class="info-label">Số điện thoại:</span>
    <span class="info-value">{{ order?.customer_phone }}</span>
  </div>
  <div class="info-row">
    <span class="info-label">Địa chỉ giao hàng:</span>
    <span class="info-value">{{ order?.customer_address }}</span>
  </div>
  <div class="info-row">
    <span class="info-label">Ghi chú khách hàng:</span>
    <span class="info-value">{{ customerNote }}</span> 
  </div>
  <div class="info-row">
    <span class="info-label">Trạng thái:</span>
    <span class="info-value">
      <span class="status-pill" [ngClass]="'status-' + order?.status">{{ order?.status }}</span>
    </span>
  </div>
  <div class="info-row">
    <span class="info-label">Phương thức thanh toán:</span>
    <span class="info-value">{{ order?.payment_method }}</span>
  </div>
  <div class="info-row">
    <span class="info-label">Thời gian đặt hàng:</span>
    <span class="info-value">{{ order?.date }}</span>
  </div>
  <div class="info-row" *ngIf="order?.ship_time">
    <span class="info-label">Thời gian gửi hàng:</span>
    <span class="info-value">{{ order?.ship_time }}</span>
  </div>
  <div class="info-row" *ngIf="order?.payment_time">
    <span class="info-label">Thời gian thanh toán:</span>
    <span class="info-value">{{ order?.payment_time }}</span>
  </div>
  <div class="info-row" *ngIf="order?.complete_time">
    <span class="info-label">Thời gian hoàn tất:</span>
    <span class="info-value">{{ order?.complete_time }}</span>
  </div>
  <div class="info-row" *ngIf="order?.cancel_requested_at">
    <span class="info-label">Thời gian huỷ đơn:</span>
    <span class="info-value">{{ order?.cancel_requested_at }}</span>
  </div>
  <div class="info-row" *ngIf="order?.cancel_reason">
    <span class="info-label">Lý do huỷ:</span>
    <span class="info-value">{{ order.cancel_reason }}</span>
  </div>
  <div class="info-row" *ngIf="order?.cancel_requested_by">
    <span class="info-label">Người yêu cầu huỷ:</span>
    <span class="info-value">{{ order.cancel_requested_by }}</span>
  </div>
</div>


  <!-- Danh sách sản phẩm -->
  <div class="product-item header">
    <div class="product-col image-col">Hình</div>
    <div class="product-col name-col">Tên sản phẩm</div>
    <div class="product-col center">Số lượng</div>
    <div class="product-col right">Đơn giá</div>
    <div class="product-col right">Thành tiền</div>
  </div>

  <div *ngFor="let item of items" class="product-item">
    <div class="product-col image-col">
      <img [src]="item.image" width="60" />
    </div>
    <div class="product-col name-col">{{ item.name }}</div>
    <div class="product-col center">{{ item.quantity }}</div>
    <div class="product-col right">{{ item.price | number: '1.0-0' }} VNĐ</div>
    <div class="product-col right">{{ item.quantity * item.price | number: '1.0-0' }} VNĐ</div>
  </div>

  <!-- Tổng kết -->
  <div class="order-summary">
    <div class="summary-row">
      <span class="summary-label">Tổng giá trị sản phẩm:</span>
      <span class="summary-value">{{ productTotal | number: '1.0-0' }} VNĐ</span>
    </div>
    <div class="summary-row">
      <span class="summary-label">Chi phí giao hàng:</span>
      <span class="summary-value">{{ order?.shipping_fee | number: '1.0-0' }} VNĐ</span>
    </div>
    <div class="summary-row total">
      <span class="summary-label">Tổng cộng:</span>
      <span class="summary-value total-amount">{{ order.value | number: '1.0-0' }} VNĐ</span>
    </div>
  </div>

  <!-- Nút quay lại -->
  <div class="text-center mt-6">
    <button class="btn-back" routerLink="/order">Quay lại danh sách đơn</button>
  </div>
</div>
